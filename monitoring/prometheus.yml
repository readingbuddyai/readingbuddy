global:
  scrape_interval: 15s    # 15초마다 메트릭 수집
  evaluation_interval: 15s

scrape_configs:
  # Spring Boot 백엔드 애플리케이션 메트릭 수집
  - job_name: 'spring-boot-app'
    metrics_path: '/actuator/prometheus'  # Spring Actuator가 메트릭을 노출하는 경로
    static_configs:
      - targets: ['host.docker.internal:8080']  # Docker 컨테이너에서 호스트의 8080 포트 접근
        labels:
          application: 'reading-buddy-backend'
          environment: 'development'

  # Stage 4 테스트 스크립트 메트릭 수집 (추가됨!)
  - job_name: 'stage4-test-scripts'
    metrics_path: '/metrics'  # prometheus-client가 메트릭을 노출하는 기본 경로
    static_configs:
      - targets: ['host.docker.internal:8000']  # 테스트 스크립트가 실행되는 포트
        labels:
          application: 'stage4-test'
          environment: 'development'
